{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport PropTypes from 'prop-types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  var _super = _createSuper(InfiniteScroll);\n\n  function InfiniteScroll(props) {\n    var _this;\n\n    _classCallCheck(this, InfiniteScroll);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      data: _this.props.data,\n      end: true\n    };\n    length = _this.state.data.length;\n    data = _this.state.data.slice();\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: \"checkScroll\",\n    value: function checkScroll(_ref) {\n      var _this2 = this;\n\n      var layoutMeasurement = _ref.layoutMeasurement,\n          contentOffset = _ref.contentOffset,\n          contentSize = _ref.contentSize;\n      if (this.state.data.length >= length * 3) this.setState(function (prevState) {\n        return {\n          data: prevState.data.slice(length * 2)\n        };\n      });\n\n      if (contentOffset.y <= this.props.offset) {\n        this.setState(function (prevState) {\n          return {\n            data: [].concat(_toConsumableArray(prevState.data), _toConsumableArray(data))\n          };\n        }, function () {\n          return _this2.infListRef.scrollToIndex({\n            index: length,\n            animated: false\n          });\n        });\n      }\n\n      if (layoutMeasurement.height + contentOffset.y >= contentSize.height - this.props.offset && this.state.end) {\n        this.setState(function (prevState) {\n          return {\n            data: [].concat(_toConsumableArray(prevState.data), _toConsumableArray(data)),\n            end: false\n          };\n        });\n      } else {\n        this.setState({\n          end: true\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.setState(function (prevState) {\n        return {\n          data: [].concat(_toConsumableArray(prevState.data), _toConsumableArray(prevState.data))\n        };\n      });\n      setTimeout(function () {\n        _this3.infListRef.scrollToIndex({\n          animated: false,\n          index: length\n        });\n      }, 500);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return _jsx(FlatList, _objectSpread(_objectSpread({}, this.props), {}, {\n        ref: function ref(_ref3) {\n          _this4.infListRef = _ref3;\n        },\n        data: this.state.data,\n        renderItem: this.props.renderItem,\n        onScroll: function onScroll(_ref2) {\n          var nativeEvent = _ref2.nativeEvent;\n          return _this4.checkScroll(nativeEvent);\n        },\n        showsVerticalScrollIndicator: this.props.showsVerticalScrollIndicator\n      }));\n    }\n  }]);\n\n  return InfiniteScroll;\n}(Component);\n\nexport { InfiniteScroll as default };\nInfiniteScroll.propTypes = {\n  offset: PropTypes.number,\n  showsVerticalScrollIndicator: PropTypes.bool\n};\nInfiniteScroll.defaultProps = {\n  offset: 20,\n  showsVerticalScrollIndicator: false\n};","map":{"version":3,"sources":["/Users/vinayasharma/Desktop/krish/node_modules/react-native-infinite-looping-scroll/src/index.js"],"names":["React","Component","PropTypes","InfiniteScroll","props","state","data","end","length","slice","layoutMeasurement","contentOffset","contentSize","setState","prevState","y","offset","infListRef","scrollToIndex","index","animated","height","setTimeout","ref","renderItem","nativeEvent","checkScroll","showsVerticalScrollIndicator","propTypes","number","bool","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { FlatList } from 'react-native';\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class InfiniteScroll extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            data: this.props.data,\r\n            end: true,\r\n        }\r\n        length = this.state.data.length\r\n        data = this.state.data.slice()\r\n    }\r\n    checkScroll({ layoutMeasurement, contentOffset, contentSize }) {\r\n        if (this.state.data.length >= length * 3)\r\n            this.setState(prevState => ({\r\n                data: prevState.data.slice(length * 2)\r\n            }))\r\n\r\n        if (contentOffset.y <= this.props.offset) {\r\n            this.setState(prevState => ({\r\n                data: [...prevState.data, ...data],\r\n            }), () => this.infListRef.scrollToIndex({ index: length, animated: false }))\r\n        }\r\n        if (layoutMeasurement.height + contentOffset.y >= contentSize.height - this.props.offset && this.state.end) {\r\n            this.setState(prevState => ({\r\n                data: [...prevState.data, ...data],\r\n                end: false\r\n            }))\r\n        }\r\n        else {\r\n            this.setState({\r\n                end: true\r\n            })\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.setState(prevState => ({\r\n            data: [...prevState.data, ...prevState.data]\r\n        }))\r\n        setTimeout(() => { this.infListRef.scrollToIndex({ animated: false, index: length }) }, 500);\r\n\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <FlatList\r\n                {...this.props}\r\n                ref={(ref) => { this.infListRef = ref; }}\r\n                data={this.state.data}\r\n                renderItem={this.props.renderItem}\r\n                onScroll={({ nativeEvent }) => this.checkScroll(nativeEvent)}\r\n                showsVerticalScrollIndicator={this.props.showsVerticalScrollIndicator}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nInfiniteScroll.propTypes = {\r\n    offset: PropTypes.number,\r\n    showsVerticalScrollIndicator: PropTypes.bool\r\n}\r\n\r\nInfiniteScroll.defaultProps = {\r\n    offset: 20,\r\n    showsVerticalScrollIndicator: false\r\n};"]},"metadata":{},"sourceType":"module"}