{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useState, useEffect } from 'react';\nimport { postData } from \"./postData\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { useNavigation } from '@react-navigation/native';\nimport { auth } from \"../Firebase\";\nimport { collection, query, where, getDocs, collectionGroup, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../Firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar HomePosts = function HomePosts(_ref) {\n  var navigation = _ref.navigation,\n      search = _ref.search;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      companies = _useState2[0],\n      setCompanies = _useState2[1];\n\n  useEffect(function () {\n    var theCompanies = collectionGroup(db, 'companies');\n    var stuff = onSnapshot(theCompanies, function (snapshot) {\n      setCompanies(snapshot.docs.map(function (posts) {\n        return _objectSpread({\n          id: posts.id\n        }, posts.data());\n      }));\n    });\n    return function () {\n      theCompanies, stuff({});\n    };\n  }, []);\n  return _jsx(ScrollView, {\n    style: {\n      marginTop: 15\n    },\n    children: companies.filter(function (val) {\n      if (search == \"\") {\n        return val;\n      } else if (val.name.toLowerCase().includes(search.toLowerCase())) {\n        return val;\n      }\n    }).map(function (post, index) {\n      return _jsx(View, {\n        children: _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.push('RestaurantPage', post);\n          },\n          children: _jsxs(View, {\n            style: {\n              marginBottom: 20,\n              justifyContent: 'space-around',\n              backgroundColor: \"#e7eddf\",\n              marginHorizontal: 10,\n              borderRadius: 20,\n              shadowColor: '#171717',\n              shadowOffset: {\n                width: 2,\n                height: 4\n              },\n              shadowOpacity: 0.3,\n              shadowRadius: 3\n            },\n            children: [_jsx(Image, {\n              style: {\n                width: \"100%\",\n                height: 220,\n                borderRadius: 20\n              },\n              source: {\n                uri: post.image\n              }\n            }), _jsxs(View, {\n              style: {\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                marginTop: 10,\n                paddingHorizontal: 20,\n                paddingTop: 10,\n                paddingBottom: 20\n              },\n              children: [_jsxs(View, {\n                children: [_jsx(Text, {\n                  style: {\n                    fontSize: 15,\n                    fontWeight: 'bold'\n                  },\n                  children: post.name\n                }), _jsx(Text, {\n                  style: {\n                    marginTop: 5,\n                    fontSize: 13,\n                    color: \"grey\"\n                  },\n                  children: post.address\n                })]\n              }), _jsx(View, {\n                style: {\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  borderRadius: 15,\n                  backgroundColor: \"green\",\n                  height: 30,\n                  width: 30\n                },\n                children: _jsx(Text, {\n                  style: {\n                    color: 'white'\n                  },\n                  children: post.ratings\n                })\n              })]\n            })]\n          })\n        })\n      }, index);\n    })\n  });\n};\n\nexport default HomePosts;","map":{"version":3,"sources":["/Users/vinayasharma/Desktop/krish/screens/Components/HomePosts.js"],"names":["React","useState","useEffect","postData","TouchableOpacity","useNavigation","auth","collection","query","where","getDocs","collectionGroup","onSnapshot","db","HomePosts","navigation","search","companies","setCompanies","theCompanies","stuff","snapshot","docs","map","posts","id","data","marginTop","filter","val","name","toLowerCase","includes","post","index","push","marginBottom","justifyContent","backgroundColor","marginHorizontal","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","uri","image","flexDirection","alignItems","paddingHorizontal","paddingTop","paddingBottom","fontSize","fontWeight","color","address","ratings"],"mappings":"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","sourcesContent":["import { View, Text, Image, ScrollView } from 'react-native';\nimport React, { useState, useEffect } from 'react';\nimport { postData } from './postData';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { useNavigation } from '@react-navigation/native';\nimport {auth} from '../Firebase'\nimport { collection, query, where, getDocs, collectionGroup, onSnapshot } from \"firebase/firestore\";\nimport {db} from '../Firebase'\n\nconst HomePosts = ({navigation, search}) => {\n\n  const [companies, setCompanies] = useState([])\n\n  useEffect(() => {\n        let theCompanies = collectionGroup(db, 'companies')\n        let stuff = onSnapshot(theCompanies, (snapshot => {\n            setCompanies(snapshot.docs.map(posts => ({id:posts.id, ...posts.data()})))\n        }))\n        return () => {theCompanies, stuff({})}\n    }, []\n)\n\n  return (\n    <ScrollView style={{marginTop:15}} >\n      {companies.filter(val => {\n        if (search == \"\"){\n          return val\n        } else if (val.name.toLowerCase().includes(search.toLowerCase())){\n          return val\n        }\n      }).map(\n          (post, index) =>\n          <View key ={index}>\n             <TouchableOpacity onPress={() => navigation.push('RestaurantPage', post)}>\n                  <View \n                  style={{marginBottom:20, justifyContent:'space-around', backgroundColor:\"#e7eddf\", marginHorizontal:10, borderRadius:20, shadowColor: '#171717',\n                  shadowOffset: {width: 2, height: 4},\n                  shadowOpacity: 0.3,\n                  shadowRadius: 3,}} >\n                    <Image style={{width:\"100%\", height:220, borderRadius:20}}  source={{uri: post.image}} />\n                    <View style = {{flexDirection:'row', justifyContent:'space-between', alignItems:'center', marginTop:10, paddingHorizontal:20, paddingTop:10, paddingBottom:20}} >\n                     \n                      <View>\n                       <Text style ={{fontSize: 15,fontWeight:'bold'}}>{post.name}</Text>\n                       <Text style ={{marginTop:5,fontSize:13, color: \"grey\"}}>{post.address}</Text>\n                       </View>\n                      \n                        \n                        <View style = {{justifyContent:'center', alignItems:'center',borderRadius:15, backgroundColor: \"green\", height: 30, width: 30}}>\n                            <Text style={{color:'white'}} >{post.ratings}</Text>\n                    </View>\n                    \n                        </View>   \n            </View>\n            </TouchableOpacity> \n          </View>)}\n    </ScrollView>\n  )\n  }\n\n\nexport default HomePosts;\n"]},"metadata":{},"sourceType":"module"}